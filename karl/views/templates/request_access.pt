<html xmlns="http://www.w3.org/1999/xhtml"
     xmlns:tal="http://xml.zope.org/namespaces/tal"
     xmlns:metal="http://xml.zope.org/namespaces/metal"
     metal:use-macro="api.anonymous_layout">

  <div metal:fill-slot="content">

    <div metal:use-macro="api.snippets.macros['karl_status_message']"/>

    <form id="access-request" tal:condition="not: submitted"
          method="post" action="${app_url}/request_access.html">

      <fieldset class="field">
        <span class="loginLabelWrapper">
          <label for="email">Email</label>
        </span>
        <input name="email" type="text" id="email" value="${python: request.POST.get('email', '')}" size="30">
      </fieldset>
      <fieldset class="field">
        <span class="loginLabelWrapper">
          <label for="fullname">Full Name</label>
        </span>
        <input name="fullname" type="text" id="fullname" size="30" value="${python: request.POST.get('fullname', '')}">
      </fieldset>

      <div class="formControlls loginLeftPadding">
        <input type="hidden" name="form.submitted" value="1" />
        <div class="buttons clearafter">
          <button name="image" type="submit" id="request" class="button primary_button"><span>Request Access</span></button>
        </div>
      </div>
    </form>

    <div class="access-request-success" tal:condition="submitted">
      <p>Your access request has been submitted and will be reviewed by administrators.</p>
      <p>You will be notified after you're approved access.</p>
    </div>

  </div>
</html>
