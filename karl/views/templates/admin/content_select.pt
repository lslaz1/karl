<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal">
  <body>

    <!-- Content selection widget -->
    <div metal:define-macro="widget">
      <form class="form-inline "method="GET" name="filter_content">
        <div class="form-group">
          <label><strong>Community:</strong></label>
          <select class="form-control input-sm" name="community">
            <option value="_any">Any Community</option>
            <option tal:repeat="c communities" value="${c['path']}"
                    selected="${c['path'] == selected_community}">
              ${c.title}
            </option>
          </select>

          <label><strong>Title contains:</strong></label>
          <input class="form-control input-sm" name="title_contains" value="${title_contains}" />
          <input class="btn btn-default btn-sm" type="submit" name="filter_content" value="Find Content"/>
        </div>

    </div>

    <!-- Content selection grid -->
    <div metal:define-macro="grid" class="container-fluid">
      <div>
        <table class="table table-striped">
          <thead>
            <tr>
              <th>Select</th>
              <th>Title</th>
              <th>Path</th>
              <th>Date Modified</th>
              <th>Creator</th>
            </tr>
          </thead>
          <tbody>
            <tr tal:repeat="item filtered_content">
              <td>
                <input type="checkbox" name="selected_content"
                       value="${item['path']}"/>
              </td>
              <td>
                <a href="${item.url}" target="_blank">${item.title}</a>
              </td>
              <td>
                <a href="${item.url}" target="_blank">${item.path}</a>
              </td>
              <td>${item.modified}</td>
              <td>
                <a href="${item.creator_url}" target="_blank"
                   tal:omit-tag="item.creator_url is None">
                  ${item.creator_name}
                </a>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

  </body>
</html>
